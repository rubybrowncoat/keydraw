(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{320:function(t,e,r){var content=r(324);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(43).default)("3f7162f7",content,!0,{sourceMap:!1})},321:function(t,e,r){var content=r(327);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(43).default)("21178f1c",content,!0,{sourceMap:!1})},322:function(t,e,r){var content=r(329);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(43).default)("73ce4faf",content,!0,{sourceMap:!1})},323:function(t,e,r){"use strict";var n=r(320);r.n(n).a},324:function(t,e,r){(t.exports=r(42)(!1)).push([t.i,".action-bar[data-v-63de6628]{position:fixed;padding:20px;bottom:0;left:50%;transform:translateX(-50%);vertical-align:middle;text-align:center;text-transform:uppercase;font-size:22px;border-radius:10px 10px 0 0;border-width:1px 1px 0;border-style:solid}",""])},325:function(t,e,r){"use strict";r(27);var n={props:{kind:{type:String,default:"keydraw"}}},o=(r(323),r(17)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"action-bar"},["keydraw"===t.kind?r("div",{staticClass:"menu active"},[t._m(0),t._v(" "),t._m(1)]):t._e(),t._v(" "),"artefact"===t.kind?r("div",{staticClass:"menu active"},[t._m(2)]):t._e(),t._v(" "),"commune"===t.kind?r("div",{staticClass:"menu active"},[t._m(3)]):t._e(),t._v(" "),"generic"===t.kind?r("div",{staticClass:"menu active"},[t._m(4)]):t._e()])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"menuItem"},[e("span",{staticClass:"label"},[this._v("⮐")]),this._v(" "),e("em",[this._v(" ARTEFACT ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"menuItem"},[e("span",{staticClass:"label"},[this._v("\\")]),this._v(" "),e("em",[this._v(" COMMUNE ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"menuItem"},[e("span",{staticClass:"label"},[this._v("⌫")]),this._v("\n      EDIT\n    ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"menuItem"},[e("span",{staticClass:"label"},[this._v("⌫")]),this._v("\n      GO ALONE\n    ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"menuItem"},[e("span",{staticClass:"label"},[this._v("⌫")]),this._v("\n      BACK\n    ")])}],!1,null,"63de6628",null);e.a=component.exports},326:function(t,e,r){"use strict";var n=r(321);r.n(n).a},327:function(t,e,r){(t.exports=r(42)(!1)).push([t.i,".instructions-container[data-v-735d6dd4]{position:relative;width:100%;max-width:1300px;padding:0 20px;top:20px;left:50%;transform:translateX(-50%);vertical-align:middle;display:flex;justify-content:space-between;text-transform:uppercase;font-size:22px}.instructions-container .name[data-v-735d6dd4]{float:left;padding:5px 10px;height:33px;border-radius:5px}.instructions-container .copyright[data-v-735d6dd4]{margin-left:15px}",""])},328:function(t,e,r){"use strict";var n=r(322);r.n(n).a},329:function(t,e,r){(t.exports=r(42)(!1)).push([t.i,".base-canvas[data-v-c7df32dc]{position:relative;margin-top:50px;margin-bottom:100px}.display-grid[data-v-c7df32dc]{position:relative;left:50%;transform:translateX(-50%);border-width:1px;border-style:solid;border-top:0;border-left:0}.hide .display-grid[data-v-c7df32dc]{border-width:0;background:transparent}.display-grid .active-key[data-v-c7df32dc]{position:absolute;z-index:-1}.keyboard[data-v-c7df32dc]{display:flex;top:0;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;flex-wrap:wrap}[class*=key-][data-v-c7df32dc]{display:inline-block;vertical-align:top;border-style:solid;border-width:1px 0 0 1px;opacity:1!important;margin:0}[class*=key-] span[data-v-c7df32dc]{font-size:20px;display:block;text-align:center;margin:0!important;padding:0!important}[class*=key-].medium span[data-v-c7df32dc]{font-size:14px}[class*=key-].small span[data-v-c7df32dc]{font-size:11px}[class*=key-].tiny span[data-v-c7df32dc]{font-size:0}.hide [class*=key-][data-v-c7df32dc]{border-width:0}",""])},330:function(t,e,r){"use strict";r(44),r(23),r(14),r(5),r(32);var n=r(10),o=r(27);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var d={props:["artefact","commune"],computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(source,!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(source).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(o.c)("color",["currentName"]),{},Object(o.c)("theme",["currentTheme"]),{},Object(o.c)("grid",["keyboardWidth","keyboardHeight","gridWidth","gridHeight","actives"]))},l=(r(326),r(17)),component=Object(l.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"instructions-container"},[r("span",{staticClass:"name"},[t._v("\n    Keydraw\n    "),t.commune?r("span",{staticClass:"txtLabel"},[t._v("commune")]):t.artefact?r("span",{staticClass:"txtLabel"},[t._v("artefact")]):t._e()]),t._v(" "),t.artefact?t._e():r("div",{staticClass:"menu active"},[r("span",{staticClass:"menuItem"},[r("span",{staticClass:"label"},[r("fa",{attrs:{icon:["fas","arrows-alt"]}})],1),t._v("\n      MOVE\n    ")]),t._v(" "),r("span",{staticClass:"menuItem"},[r("span",{staticClass:"label"},[r("fa",{attrs:{icon:["fas","keyboard"]}})],1),t._v("\n      TOGGLE\n    ")]),t._v(" "),t.commune?t._e():r("span",{staticClass:"menuItem"},[r("span",{staticClass:"label"},[t._v("\n        ⌫\n      ")]),t._v("\n      CLEAR\n    ")]),t._v(" "),r("span",{staticClass:"menuItem"},[r("span",{staticClass:"label"},[r("fa",{attrs:{icon:["fas","space-shuttle"]}})],1),t._v("\n      COLOR "),r("span",{class:["colorLabel",t.currentName]})]),t._v(" "),r("span",{class:["menuItem",{lock:t.commune}]},[t.commune?r("span",{staticClass:"label"},[r("fa",{attrs:{icon:["fas","lock"]}})],1):r("span",{staticClass:"label"},[t._v("\n        ⇧ "),r("fa",{attrs:{icon:["fas","arrows-alt"]}})],1),t._v("\n      SIZE "),r("span",{staticClass:"txtLabel"},[t._v(t._s(t.gridWidth)+"×"+t._s(t.gridHeight))])]),t._v(" "),r("span",{class:["menuItem",{lock:t.commune}]},[t.commune?r("span",{staticClass:"label"},[r("fa",{attrs:{icon:["fas","lock"]}})],1):r("span",{staticClass:"label"},[t._v("\n        I/O\n      ")]),t._v("\n      THEME "),r("span",{staticClass:"txtLabel"},[t._v(t._s(t.currentTheme))])])]),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.artefact,expression:"artefact"}],staticClass:"menu"}),t._v(" "),t._m(0)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"copyright"},[this._v("\n    © 2018 "),e("a",{attrs:{href:"http://pumo.mp"}},[this._v("pumo.mp")])])}],!1,null,"735d6dd4",null);e.a=component.exports},331:function(t,e,r){"use strict";r(44),r(23),r(14),r(5),r(32);var n=r(10),o=r(27),filter=r(335),c=r(334),d=r(164),l=void 0;function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var f={props:["hidden","keySize","keyboardLeft","keyboardTop"],data:function(){return{keyboard:d.a,windowWidth:window.innerWidth}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(source,!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(source).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(o.c)("grid",["keyboardWidth","keyboardHeight","gridWidth","gridHeight","actives"]),{limitedKeySize:function(){return Math.min(Math.floor((this.windowWidth-50)/this.gridWidth),this.keySize)},gridActives:function(){var t=this;return Object(filter.a)(this.actives,(function(e){return e.top<t.gridHeight&&e.left<t.gridWidth}))}}),methods:{keyResize:Object(c.a)((function(){l.windowWidth=window.innerWidth}),250)},beforeMount:function(){window.addEventListener("resize",this.keyResize)},beforeDestroy:function(){window.removeEventListener("resize",this.keyResize)}},m=(r(328),r(17)),component=Object(m.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"base-canvas",class:{hide:t.hidden}},[r("div",{ref:"grid",staticClass:"display-grid",style:{backgroundSize:t.limitedKeySize+"px "+t.limitedKeySize+"px",width:t.gridWidth*t.limitedKeySize+"px",height:t.gridHeight*t.limitedKeySize+"px"}},[t._l(t.gridActives,(function(e,n){return r("div",{key:n,class:["active-key",e.status],style:{top:e.top*t.limitedKeySize+"px",left:e.left*t.limitedKeySize+"px",width:t.limitedKeySize+"px",height:t.limitedKeySize+"px"}})})),t._v(" "),void 0!==t.keyboardLeft&&void 0!==t.keyboardTop?r("div",{directives:[{name:"show",rawName:"v-show",value:!t.hidden,expression:"!hidden"}],staticClass:"keyboard",style:{transform:"translate3d(+"+t.limitedKeySize*t.keyboardLeft+"px, +"+t.limitedKeySize*t.keyboardTop+"px, 0)",width:"calc("+t.limitedKeySize*t.keyboardWidth+"px + 1px)"}},t._l(t.keyboard,(function(e){var code=e.code,n=e.key;return r("div",{key:code,class:["key-"+code,t.limitedKeySize<=24?"medium":null,t.limitedKeySize<=18?"small":null,t.limitedKeySize<=12?"tiny":null],style:{minWidth:t.limitedKeySize+"px",width:t.limitedKeySize+"px",minHeight:t.limitedKeySize+"px",height:t.limitedKeySize+"px",lineHeight:t.limitedKeySize+"px"}},[r("span",[t._v(t._s(n))])])})),0):t._e()],2)])}),[],!1,null,"c7df32dc",null);e.a=component.exports},345:function(t,e,r){"use strict";r.r(e);r(44),r(23),r(14),r(5),r(32),r(94);var n=r(53),o=(r(65),r(4)),c=r(10),d=r(0),l=r(27),h=r(340),f=r.n(h),m=r(64),v=r(330),y=r(331),k=r(325),_=r(164);r(16);function w(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function O(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(source,!0).forEach((function(e){Object(c.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):w(source).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var x,j,C={transition:"slide-left",data:function(){return{keySize:30,keyboardPosition:[0,0],hidden:!1,board:{},cable:null,subscription:null}},components:{instructions:v.a,"base-canvas":y.a,"action-bar":k.a},computed:O({},Object(l.c)("color",["currentName"]),{},Object(l.c)("theme",["currentTheme"]),{},Object(l.c)("grid",["gridWidth","gridHeight","keyboardWidth","keyboardHeight"]),{keyboardLeft:function(){return this.keyboardPosition[0]},keyboardTop:function(){return this.keyboardPosition[1]}}),methods:O({},Object(l.b)("color",["nextColor","previousColor"]),{},Object(l.b)("theme",["setTheme"]),{},Object(l.b)("grid",["setSize","setCommuneActives","setShared","toggleShared"]),{toggleGrid:(j=Object(o.a)(regeneratorRuntime.mark((function t(e){var r,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=this.keyboardLeft+e%this.keyboardWidth,n=this.keyboardTop+~~(e/this.keyboardWidth),o=this.$route.params.url,this.toggleShared({left:r,top:n,url:o,name:this.currentName});case 4:case"end":return t.stop()}}),t,this)}))),function(t){return j.apply(this,arguments)}),keyOperation:function(t){switch(t.preventDefault(),t.key){case"ArrowLeft":this.hidden||this.keyboardLeft>0&&d.a.set(this.keyboardPosition,0,this.keyboardLeft-this.keyboardWidth);break;case"ArrowUp":this.hidden||this.keyboardTop>0&&d.a.set(this.keyboardPosition,1,this.keyboardTop-this.keyboardHeight);break;case"ArrowRight":this.hidden||this.keyboardLeft<this.gridWidth-this.keyboardWidth&&d.a.set(this.keyboardPosition,0,this.keyboardLeft+this.keyboardWidth);break;case"ArrowDown":this.hidden||this.keyboardTop<this.gridHeight-this.keyboardHeight&&d.a.set(this.keyboardPosition,1,this.keyboardTop+this.keyboardHeight);break;case"p":this.hidden=!this.hidden;break;case" ":this.nextColor();break;case"Backspace":this.$router.push("/");break;default:if(!this.hidden){var e=Object(m.a)(_.a,["key",t.key]);e>-1&&this.toggleGrid(e)}}}}),asyncData:(x=Object(o.a)(regeneratorRuntime.mark((function t(e){var r,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.params.url,n=e.app,t.next=3,n.$axios.$get("shared_boards/".concat(r));case 3:return o=t.sent,t.abrupt("return",{board:o});case 5:case"end":return t.stop()}}),t)}))),function(t){return x.apply(this,arguments)}),beforeMount:function(){var t=this;window.addEventListener("keydown",this.keyOperation),this.cable||(this.cable=f.a.createConsumer("wss://kendraw.nerdship.net/cable"),this.subscription=this.cable.subscriptions.create("SharedActivesChannel",{received:function(data){var e=data.active;data.board===t.$route.params.url&&t.setShared({position:"".concat(e.left,"x").concat(e.top),status:e.status})}}))},beforeDestroy:function(){window.removeEventListener("keydown",this.keyOperation),this.subscription&&(this.subscription.unsubscribe(),this.subscription=null),this.cable&&(this.cable=null)},mounted:function(){var t=this.board;if(t.content){var e=t.content.split(";"),r=Object(n.a)(e,2),o=r[0],c=r[1],d=o.split("#"),l=Object(n.a)(d,2)[1],h=c.split("#"),f=Object(n.a)(h,2)[1];this.setTheme(l),this.setSize(f),this.setCommuneActives(t.actives)}}},z=r(17),component=Object(z.a)(C,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wrapper",class:this.currentTheme},[e("div",{staticClass:"content"},[e("instructions",{attrs:{commune:!0}}),this._v(" "),e("base-canvas",{attrs:{keySize:this.keySize,keyboardLeft:this.keyboardLeft,keyboardTop:this.keyboardTop,hidden:this.hidden}}),this._v(" "),e("action-bar",{attrs:{kind:"commune"}})],1)])}),[],!1,null,null,null);e.default=component.exports}}]);